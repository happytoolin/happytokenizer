import { getTokenizerConfig } from "./dynamicTokenizers";
import type { ModelData } from "./models";

// Non-GPT models with their tokenizers
export const NON_GPT_MODELS: Record<string, ModelData> = {
  // Claude models
  "claude-3.5-sonnet": {
    id: "claude-3.5-sonnet",
    displayName: "Claude 3.5 Sonnet",
    encoding: "cl100k_base",
    contextWindow: 200000,
    pricing: { input: 0.003, output: 0.015, cached: 0.0015 },
  },
  "claude-3.5-haiku": {
    id: "claude-3.5-haiku",
    displayName: "Claude 3.5 Haiku",
    encoding: "cl100k_base",
    contextWindow: 200000,
    pricing: { input: 0.0008, output: 0.004, cached: 0.0004 },
  },
  "claude-3.5-opus": {
    id: "claude-3.5-opus",
    displayName: "Claude 3.5 Opus",
    encoding: "cl100k_base",
    contextWindow: 200000,
    pricing: { input: 0.0075, output: 0.0375, cached: 0.00375 },
  },
  "claude-3-opus": {
    id: "claude-3-opus",
    displayName: "Claude 3 Opus",
    encoding: "cl100k_base",
    contextWindow: 200000,
    pricing: { input: 0.015, output: 0.075, cached: 0.0075 },
  },
  "claude-3-sonnet": {
    id: "claude-3-sonnet",
    displayName: "Claude 3 Sonnet",
    encoding: "cl100k_base",
    contextWindow: 200000,
    pricing: { input: 0.003, output: 0.015, cached: 0.0015 },
  },
  "claude-3-haiku": {
    id: "claude-3-haiku",
    displayName: "Claude 3 Haiku",
    encoding: "cl100k_base",
    contextWindow: 200000,
    pricing: { input: 0.00025, output: 0.00125, cached: 0.000125 },
  },
  "claude-2.1": {
    id: "claude-2.1",
    displayName: "Claude 2.1",
    encoding: "cl100k_base",
    contextWindow: 200000,
    pricing: { input: 0.008, output: 0.024, cached: 0.0024 },
  },
  "claude-2": {
    id: "claude-2",
    displayName: "Claude 2",
    encoding: "cl100k_base",
    contextWindow: 100000,
    pricing: { input: 0.008, output: 0.024, cached: 0.0024 },
  },
  "claude-2.5": {
    id: "claude-2.5",
    displayName: "Claude 2.5",
    encoding: "cl100k_base",
    contextWindow: 100000,
    pricing: { input: 0.008, output: 0.024, cached: 0.0024 },
  },
  "claude-1": {
    id: "claude-1",
    displayName: "Claude 1",
    encoding: "cl100k_base",
    contextWindow: 100000,
    pricing: { input: 0.008, output: 0.024, cached: 0.0024 },
  },
  "claude-instant-1": {
    id: "claude-instant-1",
    displayName: "Claude Instant 1",
    encoding: "cl100k_base",
    contextWindow: 100000,
    pricing: { input: 0.0008, output: 0.0024, cached: 0.00024 },
  },

  // Llama models
  "llama-3.2": {
    id: "llama-3.2",
    displayName: "Llama 3.2",
    encoding: "llama3",
    contextWindow: 128000,
    pricing: { input: 0.0002, output: 0.0004, cached: 0.0001 },
  },
  "llama-3.2-1b": {
    id: "llama-3.2-1b",
    displayName: "Llama 3.2 1B",
    encoding: "llama3",
    contextWindow: 128000,
    pricing: { input: 0.0001, output: 0.0002, cached: 0.00005 },
  },
  "llama-3.2-3b": {
    id: "llama-3.2-3b",
    displayName: "Llama 3.2 3B",
    encoding: "llama3",
    contextWindow: 128000,
    pricing: { input: 0.00015, output: 0.0003, cached: 0.000075 },
  },
  "llama-3.2-11b": {
    id: "llama-3.2-11b",
    displayName: "Llama 3.2 11B",
    encoding: "llama3",
    contextWindow: 128000,
    pricing: { input: 0.0002, output: 0.0004, cached: 0.0001 },
  },
  "llama-3.2-90b": {
    id: "llama-3.2-90b",
    displayName: "Llama 3.2 90B",
    encoding: "llama3",
    contextWindow: 128000,
    pricing: { input: 0.0005, output: 0.001, cached: 0.00025 },
  },
  "llama-3.1": {
    id: "llama-3.1",
    displayName: "Llama 3.1",
    encoding: "llama3",
    contextWindow: 128000,
    pricing: { input: 0.0002, output: 0.0004, cached: 0.0001 },
  },
  "llama-3.1-8b": {
    id: "llama-3.1-8b",
    displayName: "Llama 3.1 8B",
    encoding: "llama3",
    contextWindow: 128000,
    pricing: { input: 0.0002, output: 0.0004, cached: 0.0001 },
  },
  "llama-3.1-70b": {
    id: "llama-3.1-70b",
    displayName: "Llama 3.1 70B",
    encoding: "llama3",
    contextWindow: 128000,
    pricing: { input: 0.0004, output: 0.0008, cached: 0.0002 },
  },
  "llama-3.1-405b": {
    id: "llama-3.1-405b",
    displayName: "Llama 3.1 405B",
    encoding: "llama3",
    contextWindow: 128000,
    pricing: { input: 0.001, output: 0.002, cached: 0.0005 },
  },
  "llama-3": {
    id: "llama-3",
    displayName: "Llama 3",
    encoding: "llama3",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0004, cached: 0.0001 },
  },
  "llama-3-8b": {
    id: "llama-3-8b",
    displayName: "Llama 3 8B",
    encoding: "llama3",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0004, cached: 0.0001 },
  },
  "llama-3-70b": {
    id: "llama-3-70b",
    displayName: "Llama 3 70B",
    encoding: "llama3",
    contextWindow: 8192,
    pricing: { input: 0.0004, output: 0.0008, cached: 0.0002 },
  },
  "llama-2": {
    id: "llama-2",
    displayName: "Llama 2",
    encoding: "llama2",
    contextWindow: 4096,
    pricing: { input: 0.0002, output: 0.0004, cached: 0.0001 },
  },
  "llama-2-7b": {
    id: "llama-2-7b",
    displayName: "Llama 2 7B",
    encoding: "llama2",
    contextWindow: 4096,
    pricing: { input: 0.0002, output: 0.0004, cached: 0.0001 },
  },
  "llama-2-13b": {
    id: "llama-2-13b",
    displayName: "Llama 2 13B",
    encoding: "llama2",
    contextWindow: 4096,
    pricing: { input: 0.0002, output: 0.0004, cached: 0.0001 },
  },
  "llama-2-70b": {
    id: "llama-2-70b",
    displayName: "Llama 2 70B",
    encoding: "llama2",
    contextWindow: 4096,
    pricing: { input: 0.0004, output: 0.0008, cached: 0.0002 },
  },

  // Llama 2 based models
  "mistral-7b": {
    id: "mistral-7b",
    displayName: "Mistral 7B",
    encoding: "llama2",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "mistral-7b-instruct": {
    id: "mistral-7b-instruct",
    displayName: "Mistral 7B Instruct",
    encoding: "llama2",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "zephyr-7b": {
    id: "zephyr-7b",
    displayName: "Zephyr 7B",
    encoding: "llama2",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "zephyr-7b-alpha": {
    id: "zephyr-7b-alpha",
    displayName: "Zephyr 7B Alpha",
    encoding: "llama2",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "zephyr-7b-beta": {
    id: "zephyr-7b-beta",
    displayName: "Zephyr 7B Beta",
    encoding: "llama2",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "vicuna-7b": {
    id: "vicuna-7b",
    displayName: "Vicuna 7B",
    encoding: "llama2",
    contextWindow: 4096,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "vicuna-13b": {
    id: "vicuna-13b",
    displayName: "Vicuna 13B",
    encoding: "llama2",
    contextWindow: 4096,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "vicuna-33b": {
    id: "vicuna-33b",
    displayName: "Vicuna 33B",
    encoding: "llama2",
    contextWindow: 4096,
    pricing: { input: 0.0003, output: 0.0003, cached: 0.000075 },
  },

  // DeepSeek models
  "deepseek-v3": {
    id: "deepseek-v3",
    displayName: "DeepSeek V3",
    encoding: "deepseek",
    contextWindow: 128000,
    pricing: { input: 0.00014, output: 0.00028, cached: 0.00007 },
  },
  "deepseek-r1": {
    id: "deepseek-r1",
    displayName: "DeepSeek R1",
    encoding: "deepseek",
    contextWindow: 128000,
    pricing: { input: 0.00014, output: 0.00028, cached: 0.00007 },
  },

  // Qwen models
  "qwen2.5": {
    id: "qwen2.5",
    displayName: "Qwen 2.5",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "qwen2.5-0.5b": {
    id: "qwen2.5-0.5b",
    displayName: "Qwen 2.5 0.5B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.00005, output: 0.00005, cached: 0.00001 },
  },
  "qwen2.5-1.5b": {
    id: "qwen2.5-1.5b",
    displayName: "Qwen 2.5 1.5B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0001, output: 0.0001, cached: 0.00002 },
  },
  "qwen2.5-3b": {
    id: "qwen2.5-3b",
    displayName: "Qwen 2.5 3B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.00015, output: 0.00015, cached: 0.00003 },
  },
  "qwen2.5-7b": {
    id: "qwen2.5-7b",
    displayName: "Qwen 2.5 7B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "qwen2.5-14b": {
    id: "qwen2.5-14b",
    displayName: "Qwen 2.5 14B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0003, output: 0.0003, cached: 0.00007 },
  },
  "qwen2.5-32b": {
    id: "qwen2.5-32b",
    displayName: "Qwen 2.5 32B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0004, output: 0.0004, cached: 0.0001 },
  },
  "qwen2.5-72b": {
    id: "qwen2.5-72b",
    displayName: "Qwen 2.5 72B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0006, output: 0.0006, cached: 0.00015 },
  },
  "qwen2.5-coder": {
    id: "qwen2.5-coder",
    displayName: "Qwen 2.5 Coder",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "qwen1.5": {
    id: "qwen1.5",
    displayName: "Qwen 1.5",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "qwen1.5-0.5b": {
    id: "qwen1.5-0.5b",
    displayName: "Qwen 1.5 0.5B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.00005, output: 0.00005, cached: 0.00001 },
  },
  "qwen1.5-1.8b": {
    id: "qwen1.5-1.8b",
    displayName: "Qwen 1.5 1.8B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0001, output: 0.0001, cached: 0.00002 },
  },
  "qwen1.5-4b": {
    id: "qwen1.5-4b",
    displayName: "Qwen 1.5 4B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.00015, output: 0.00015, cached: 0.00003 },
  },
  "qwen1.5-7b": {
    id: "qwen1.5-7b",
    displayName: "Qwen 1.5 7B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "qwen1.5-14b": {
    id: "qwen1.5-14b",
    displayName: "Qwen 1.5 14B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0003, output: 0.0003, cached: 0.00007 },
  },
  "qwen1.5-32b": {
    id: "qwen1.5-32b",
    displayName: "Qwen 1.5 32B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0004, output: 0.0004, cached: 0.0001 },
  },
  "qwen1.5-72b": {
    id: "qwen1.5-72b",
    displayName: "Qwen 1.5 72B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0006, output: 0.0006, cached: 0.00015 },
  },
  "qwen1.5-110b": {
    id: "qwen1.5-110b",
    displayName: "Qwen 1.5 110B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0008, output: 0.0008, cached: 0.0002 },
  },
  qwen3: {
    id: "qwen3",
    displayName: "Qwen 3",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "qwen3-0.5b": {
    id: "qwen3-0.5b",
    displayName: "Qwen 3 0.5B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.00005, output: 0.00005, cached: 0.00001 },
  },
  "qwen3-1.5b": {
    id: "qwen3-1.5b",
    displayName: "Qwen 3 1.5B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0001, output: 0.0001, cached: 0.00002 },
  },
  "qwen3-4b": {
    id: "qwen3-4b",
    displayName: "Qwen 3 4B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.00015, output: 0.00015, cached: 0.00003 },
  },
  "qwen3-7b": {
    id: "qwen3-7b",
    displayName: "Qwen 3 7B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "qwen3-14b": {
    id: "qwen3-14b",
    displayName: "Qwen 3 14B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0003, output: 0.0003, cached: 0.00007 },
  },
  "qwen3-32b": {
    id: "qwen3-32b",
    displayName: "Qwen 3 32B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0004, output: 0.0004, cached: 0.0001 },
  },
  "qwen3-70b": {
    id: "qwen3-70b",
    displayName: "Qwen 3 70B",
    encoding: "qwen",
    contextWindow: 32768,
    pricing: { input: 0.0006, output: 0.0006, cached: 0.00015 },
  },

  // Gemma models
  gemma3: {
    id: "gemma3",
    displayName: "Gemma 3",
    encoding: "gemma",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  gemma2: {
    id: "gemma2",
    displayName: "Gemma 2",
    encoding: "gemma",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  gemma: {
    id: "gemma",
    displayName: "Gemma",
    encoding: "gemma",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },

  // Gemini models
  "gemini-1.5-pro": {
    id: "gemini-1.5-pro",
    displayName: "Gemini 1.5 Pro",
    encoding: "gemini",
    contextWindow: 2097152,
    pricing: { input: 0.00125, output: 0.005, cached: 0.00025 },
  },
  "gemini-1.5-flash": {
    id: "gemini-1.5-flash",
    displayName: "Gemini 1.5 Flash",
    encoding: "gemini",
    contextWindow: 1048576,
    pricing: { input: 0.000075, output: 0.0003, cached: 0.00001875 },
  },
  "gemini-1.5-flash-8b": {
    id: "gemini-1.5-flash-8b",
    displayName: "Gemini 1.5 Flash 8B",
    encoding: "gemini",
    contextWindow: 1048576,
    pricing: { input: 0.0000375, output: 0.00015, cached: 0.000009375 },
  },
  "gemini-1.0-pro": {
    id: "gemini-1.0-pro",
    displayName: "Gemini 1.0 Pro",
    encoding: "gemini",
    contextWindow: 32768,
    pricing: { input: 0.00025, output: 0.0005, cached: 0.0000625 },
  },
  "gemini-pro": {
    id: "gemini-pro",
    displayName: "Gemini Pro",
    encoding: "gemini",
    contextWindow: 32768,
    pricing: { input: 0.00025, output: 0.0005, cached: 0.0000625 },
  },
  "gemini-pro-vision": {
    id: "gemini-pro-vision",
    displayName: "Gemini Pro Vision",
    encoding: "gemini",
    contextWindow: 16384,
    pricing: { input: 0.00025, output: 0.0005, cached: 0.0000625 },
  },
  "gemini-nano": {
    id: "gemini-nano",
    displayName: "Gemini Nano",
    encoding: "gemini",
    contextWindow: 32768,
    pricing: { input: 0.000001, output: 0.000001, cached: 0.00000025 },
  },

  // Specialized GPT models
  "gpt-4o-specialized": {
    id: "gpt-4o-specialized",
    displayName: "GPT-4o (Specialized)",
    encoding: "o200k_base",
    contextWindow: 128000,
    pricing: { input: 0.0025, output: 0.01, cached: 0.00125 },
  },
  "gpt-4-specialized": {
    id: "gpt-4-specialized",
    displayName: "GPT-4 (Specialized)",
    encoding: "cl100k_base",
    contextWindow: 8192,
    pricing: { input: 0.03, output: 0.06, cached: 0.015 },
  },
  "gpt-3.5-turbo-specialized": {
    id: "gpt-3.5-turbo-specialized",
    displayName: "GPT-3.5 Turbo (Specialized)",
    encoding: "cl100k_base",
    contextWindow: 4096,
    pricing: { input: 0.001, output: 0.002, cached: 0.0005 },
  },
  "gpt-3.5-turbo-16k-specialized": {
    id: "gpt-3.5-turbo-16k-specialized",
    displayName: "GPT-3.5 Turbo 16k (Specialized)",
    encoding: "cl100k_base",
    contextWindow: 16384,
    pricing: { input: 0.001, output: 0.002, cached: 0.0005 },
  },
  "gpt-3-specialized": {
    id: "gpt-3-specialized",
    displayName: "GPT-3 (Specialized)",
    encoding: "p50k_base",
    contextWindow: 2048,
    pricing: { input: 0.02, output: 0.02, cached: 0.005 },
  },
  gpt2: {
    id: "gpt2",
    displayName: "GPT-2",
    encoding: "gpt2",
    contextWindow: 1024,
    pricing: { input: 0.02, output: 0.02, cached: 0.005 },
  },
  "text-davinci-002-specialized": {
    id: "text-davinci-002-specialized",
    displayName: "Text Davinci 002 (Specialized)",
    encoding: "p50k_base",
    contextWindow: 2048,
    pricing: { input: 0.02, output: 0.02, cached: 0.005 },
  },
  "text-davinci-003-specialized": {
    id: "text-davinci-003-specialized",
    displayName: "Text Davinci 003 (Specialized)",
    encoding: "p50k_base",
    contextWindow: 4096,
    pricing: { input: 0.02, output: 0.02, cached: 0.005 },
  },
  "text-embedding-ada-002-specialized": {
    id: "text-embedding-ada-002-specialized",
    displayName: "Text Embedding Ada 002 (Specialized)",
    encoding: "cl100k_base",
    contextWindow: 8191,
    pricing: { input: 0.0001, output: 0, cached: 0.000025 },
  },

  // Other models
  "mistral-nemo": {
    id: "mistral-nemo",
    displayName: "Mistral Nemo",
    encoding: "mistral",
    contextWindow: 128000,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "minicpm-v4.5": {
    id: "minicpm-v4.5",
    displayName: "MiniCPM v4.5",
    encoding: "minicpm",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "aya-expanse": {
    id: "aya-expanse",
    displayName: "Aya Expanse",
    encoding: "aya",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  baichuan2: {
    id: "baichuan2",
    displayName: "Baichuan 2",
    encoding: "baichuan",
    contextWindow: 4096,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  chatglm3: {
    id: "chatglm3",
    displayName: "ChatGLM 3",
    encoding: "chatglm",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "command-r-plus": {
    id: "command-r-plus",
    displayName: "Command-R-Plus",
    encoding: "commandr",
    contextWindow: 128000,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  internlm2: {
    id: "internlm2",
    displayName: "InternLM 2",
    encoding: "internlm",
    contextWindow: 32768,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  yi: {
    id: "yi",
    displayName: "Yi",
    encoding: "yi",
    contextWindow: 4096,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "gpt-oss-20b": {
    id: "gpt-oss-20b",
    displayName: "GPT-OSS-20B",
    encoding: "gptoss",
    contextWindow: 8192,
    pricing: { input: 0.0002, output: 0.0002, cached: 0.00005 },
  },
  "gpt-oss-120b": {
    id: "gpt-oss-120b",
    displayName: "GPT-OSS-120B",
    encoding: "gptoss",
    contextWindow: 8192,
    pricing: { input: 0.0004, output: 0.0004, cached: 0.0001 },
  },
};

// Check if a model is a non-GPT model
export function isNonGptModel(modelId: string): boolean {
  return modelId in NON_GPT_MODELS;
}

// Get non-GPT model data
export function getNonGptModel(modelId: string): ModelData | undefined {
  return NON_GPT_MODELS[modelId];
}

// Get all non-GPT model IDs
export function getNonGptModelIds(): string[] {
  return Object.keys(NON_GPT_MODELS);
}

// Check if a model requires dynamic tokenizer loading
export function needsDynamicTokenizer(modelId: string): boolean {
  return isNonGptModel(modelId) && getTokenizerConfig(modelId) !== null;
}